<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>首页 | 阳光优采</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- FontAwesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  
  <!-- 自定义样式 -->
  <link rel="stylesheet" href="../../assets/custom.css">
  
  <style>
    /* Tailwind 配置扩展 */
    @layer utilities {
      .text-primary { color: #E2231A; }
      .bg-primary { background-color: #E2231A; }
      .border-primary { border-color: #E2231A; }
    }
    
    /* 页面背景渐变 */
    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
    }
    
    /* 模块标题样式 - 美化 */
    .module-title {
      font-size: 18px;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 16px;
      padding-left: 12px;
      border-left: 3px solid #E2231A;
      display: inline-block;
    }
    
    /* 模块容器间距 */
    .module-section {
      margin-bottom: 32px;
    }
    
    /* 卡片样式美化 */
    .stat-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid rgba(226, 35, 26, 0.08);
      position: relative;
      overflow: hidden;
    }
    
    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent 0%, rgba(226, 35, 26, 0.3) 50%, transparent 100%);
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(226, 35, 26, 0.08);
      border-color: rgba(226, 35, 26, 0.2);
    }
    
    .stat-card:hover::before {
      opacity: 1;
    }
    
    /* 图表容器样式 */
    .chart-container {
      position: relative;
      height: 320px;
      padding: 10px 0;
      margin-top: 10px;
    }
    
    /* 确保图表卡片高度一致 */
    .chart-card {
      min-height: 420px;
      display: flex;
      flex-direction: column;
    }
    
    /* 筛选区美化 */
    .filter-section {
      background: linear-gradient(135deg, #ffffff 0%, #fafbfc 100%);
      border: 1px solid #e5e7eb;
    }
    
    /* 按钮样式美化 */
    button[onclick*="switchPeriod"],
    button[onclick*="switchOrderShare"],
    button[onclick*="switchUserView"] {
      transition: all 0.2s ease;
      font-weight: 500;
    }
    
    button[onclick*="switchPeriod"]:hover,
    button[onclick*="switchOrderShare"]:hover,
    button[onclick*="switchUserView"]:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    /* 图表卡片样式 */
    .chart-card {
      background: linear-gradient(135deg, #ffffff 0%, #fafbfc 100%);
      border: 1px solid rgba(226, 35, 26, 0.08);
      transition: all 0.3s ease;
    }
    
    .chart-card:hover {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(226, 35, 26, 0.06);
      border-color: rgba(226, 35, 26, 0.15);
    }
    
    /* 待办卡片美化 */
    .todo-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid transparent;
      position: relative;
      overflow: hidden;
    }
    
    .todo-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: currentColor;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .todo-card:hover {
      transform: translateX(4px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
      border-color: currentColor;
    }
    
    .todo-card:hover::after {
      opacity: 0.3;
    }
    
    /* 页面头部美化 */
    .page-header {
      margin-bottom: 24px;
    }
    
    /* 图标容器美化 */
    .icon-container {
      transition: all 0.3s ease;
    }
    
    .stat-card:hover .icon-container {
      transform: scale(1.1) rotate(5deg);
    }
    
    /* 趋势指示器美化 */
    .trend-up {
      color: #10b981;
      font-weight: 600;
    }
    
    .trend-down {
      color: #ef4444;
      font-weight: 600;
    }
    
    /* 动画效果 */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in {
      animation: fadeInUp 0.6s ease-out;
    }
    
    /* 徽章样式 */
    .badge {
      background: linear-gradient(135deg, #E2231A 0%, #c01e16 100%);
      color: white;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      box-shadow: 0 2px 4px rgba(226, 35, 26, 0.3);
    }
    
    .badge-warning {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
    }
    
    /* 下拉框美化 */
    select {
      transition: all 0.2s ease;
    }
    
    select:hover {
      border-color: #d1d5db;
    }
    
    select:focus {
      border-color: #E2231A;
      outline: none;
    }
    
    /* 刷新和导出按钮美化 */
    button[onclick*="refreshData"],
    button[onclick*="exportData"] {
      transition: all 0.2s ease;
      font-weight: 500;
    }
    
    button[onclick*="refreshData"]:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    button[onclick*="exportData"]:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(226, 35, 26, 0.3);
    }
    
    /* 左侧导航栏样式 */
    .admin-sidebar {
      position: fixed;
      left: 0;
      top: 0;
      width: 240px;
      height: 100vh;
      background: #1e293b;
      color: white;
      transition: width 0.3s ease;
      z-index: 100;
      overflow-y: auto;
      overflow-x: hidden;
    }
    
    .admin-sidebar.collapsed {
      width: 64px;
    }
    
    .admin-sidebar-header {
      padding: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .admin-sidebar-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      font-size: 16px;
      white-space: nowrap;
      opacity: 1;
      transition: opacity 0.3s;
    }
    
    .admin-sidebar.collapsed .admin-sidebar-logo span {
      opacity: 0;
      width: 0;
      overflow: hidden;
    }
    
    .admin-sidebar-toggle {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }
    
    .admin-sidebar-toggle:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    
    .admin-menu {
      padding: 10px 0;
    }
    
    .admin-menu-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 20px;
      color: rgba(255, 255, 255, 0.8);
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      white-space: nowrap;
    }
    
    .admin-menu-item:hover {
      background: rgba(255, 255, 255, 0.1);
      color: white;
    }
    
    .admin-menu-item.active {
      background: rgba(226, 35, 26, 0.2);
      color: white;
      border-left: 3px solid #E2231A;
    }
    
    .admin-menu-item i {
      width: 20px;
      text-align: center;
      flex-shrink: 0;
    }
    
    .admin-menu-item span {
      opacity: 1;
      transition: opacity 0.3s;
    }
    
    .admin-sidebar.collapsed .admin-menu-item span {
      opacity: 0;
      width: 0;
      overflow: hidden;
    }
    
    /* 内容区域 */
    .admin-content {
      margin-left: 240px;
      transition: margin-left 0.3s ease;
      min-height: 100vh;
    }
    
    .admin-sidebar.collapsed ~ .admin-content {
      margin-left: 64px;
    }
  </style>
</head>
<body class="bg-gray-50">
  
  <!-- 左侧导航栏 -->
  <div class="admin-sidebar" id="adminSidebar">
    <div class="admin-sidebar-header">
      <div class="admin-sidebar-logo">
        <i class="fas fa-cog"></i>
        <span>管理后台</span>
      </div>
      <button class="admin-sidebar-toggle" onclick="toggleAdminSidebar()" title="收起/展开">
        <i class="fas fa-chevron-left" id="sidebarToggleIcon"></i>
      </button>
    </div>
    <nav class="admin-menu">
      <a href="admin_dashboard.html" class="admin-menu-item active" onclick="handleMenuClick(this, 'admin_dashboard.html')">
        <i class="fas fa-home"></i>
        <span>首页</span>
      </a>
      <a href="#" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_users.html')">
        <i class="fas fa-users"></i>
        <span>用户信息管理</span>
      </a>
      <a href="#" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_verify.html')">
        <i class="fas fa-building"></i>
        <span>用户企业信息认证</span>
      </a>
      <a href="#" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_verify.html')">
        <i class="fas fa-store"></i>
        <span>供应商认证</span>
      </a>
      <a href="#" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_po.html')">
        <i class="fas fa-file-invoice"></i>
        <span>采购单管理</span>
      </a>
      <a href="#" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_orders.html')">
        <i class="fas fa-shopping-bag"></i>
        <span>订单信息</span>
      </a>
      <a href="#" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_notice.html')">
        <i class="fas fa-bullhorn"></i>
        <span>公告管理</span>
      </a>
      <a href="admin_reco_manage.html" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_reco_manage.html')">
        <i class="fas fa-layer-group"></i>
        <span>分类推荐管理</span>
      </a>
      <a href="#" class="admin-menu-item" onclick="handleMenuClick(this, 'admin_station.html')">
        <i class="fas fa-sitemap"></i>
        <span>分站管理</span>
      </a>
    </nav>
  </div>
  
  <!-- 主容器 -->
  <div class="admin-content">
    <div class="p-6 max-w-[1920px] mx-auto">
    
    <!-- ==================== 筛选区 ==================== -->
    <div class="filter-section rounded-xl p-5 mb-6 fade-in">
      <div class="flex flex-wrap items-center gap-4">
        
        <!-- 分站维度筛选 -->
        <div class="flex items-center gap-2">
          <label class="text-sm font-medium text-gray-700">
            <i class="fas fa-layer-group text-gray-500 mr-1"></i>
            分站维度
          </label>
          <select id="stationFilter" class="px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary focus:border-transparent bg-white font-medium">
            <option value="all" selected>全平台</option>
            <option value="main">仅总站</option>
            <option value="regional">区域分站</option>
            <option value="enterprise">企业分站</option>
            <option value="beijing">指定站点-北京</option>
            <option value="shanghai">指定站点-上海</option>
          </select>
        </div>
        
        <!-- 刷新按钮 -->
        <button onclick="refreshData()" class="px-4 py-2 bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 text-gray-700 text-sm rounded-lg transition-all flex items-center gap-2 border border-gray-200 font-medium shadow-sm">
          <i class="fas fa-sync-alt"></i>
          刷新
        </button>
        
        <!-- 导出按钮 -->
        <button onclick="exportData()" class="ml-auto px-5 py-2 bg-red-700 text-white text-sm rounded-lg flex items-center gap-2 no-print font-semibold shadow-md">
          <i class="fas fa-download"></i>
          导出数据
        </button>
        
      </div>
    </div>
    
    <!-- ==================== 模块1：核心数据（5个指标） ==================== -->
    <div class="module-section">
      <h2 class="module-title">核心数据</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 fade-in">
        
        <!-- 卡片1：订单总量 -->
        <div class="stat-card bg-white rounded-xl shadow-md p-6 cursor-pointer" onclick="navigateTo('orders')">
          <div class="flex items-start justify-between mb-4">
            <div>
              <p class="text-sm text-gray-500 mb-2 font-medium">订单总量</p>
              <p class="text-3xl font-bold text-gray-900" id="orderTotal">1,248</p>
            </div>
            <div class="icon-container w-14 h-14 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl flex items-center justify-center shadow-lg">
              <i class="fas fa-shopping-cart text-blue-600 text-xl"></i>
            </div>
          </div>
          <div class="flex items-center justify-between text-xs">
            <div>
              <span class="text-gray-500 mr-1">较上月</span>
              <span class="trend-up font-medium" id="orderTrend">
                <i class="fas fa-arrow-up"></i> +12.3%
              </span>
            </div>
            <div class="text-gray-500">
              待确认 <span class="font-semibold text-orange-600">35</span>
            </div>
          </div>
        </div>
        
        <!-- 卡片2：成交金额 -->
        <div class="stat-card bg-white rounded-xl shadow-md p-6">
          <div class="flex items-start justify-between mb-4">
            <div>
              <p class="text-sm text-gray-500 mb-2 font-medium">成交金额</p>
              <p class="text-3xl font-bold text-primary" id="gmvMain">234.57万</p>
            </div>
            <div class="icon-container w-14 h-14 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center shadow-lg">
              <i class="fas fa-yen-sign text-red-600 text-xl"></i>
            </div>
          </div>
          <div class="flex items-center text-xs">
            <span class="text-gray-500 mr-1">较上月</span>
            <span class="trend-up font-medium" id="gmvTrend">
              <i class="fas fa-arrow-up"></i> +8.5%
            </span>
          </div>
        </div>
        
        <!-- 卡片3：活跃用户数 -->
        <div class="stat-card bg-white rounded-xl shadow-md p-6 cursor-pointer" onclick="navigateTo('users')">
          <div class="flex items-start justify-between mb-4">
            <div>
              <p class="text-sm text-gray-500 mb-2 font-medium">活跃用户数</p>
              <p class="text-3xl font-bold text-gray-900" id="activeUsers">856</p>
            </div>
            <div class="icon-container w-14 h-14 bg-gradient-to-br from-green-100 to-green-200 rounded-xl flex items-center justify-center shadow-lg">
              <i class="fas fa-users text-green-600 text-xl"></i>
            </div>
          </div>
          <div class="flex items-center text-xs">
            <span class="text-gray-500 mr-1">较上月</span>
            <span class="trend-up font-medium" id="userTrend">
              <i class="fas fa-arrow-up"></i> +5.2%
            </span>
          </div>
        </div>
        
        <!-- 卡片4：供应商数量 -->
        <div class="stat-card bg-white rounded-xl shadow-md p-6 cursor-pointer" onclick="navigateTo('suppliers')">
          <div class="flex items-start justify-between mb-4">
            <div>
              <p class="text-sm text-gray-500 mb-2 font-medium">供应商数量</p>
              <p class="text-3xl font-bold text-gray-900" id="supplierCount">45</p>
            </div>
            <div class="icon-container w-14 h-14 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl flex items-center justify-center shadow-lg">
              <i class="fas fa-store text-purple-600 text-xl"></i>
            </div>
          </div>
          <div class="flex items-center text-xs text-gray-600">
            待审核 <span class="font-semibold text-orange-600 ml-1" id="supplierPending">8</span> 家
          </div>
        </div>
        
        <!-- 卡片5：商品总数 -->
        <div class="stat-card bg-white rounded-xl shadow-md p-6">
          <div class="flex items-start justify-between mb-4">
            <div>
              <p class="text-sm text-gray-500 mb-2 font-medium">商品总数</p>
              <p class="text-3xl font-bold text-gray-900" id="productOnline">3,200</p>
            </div>
            <div class="icon-container w-14 h-14 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-xl flex items-center justify-center shadow-lg">
              <i class="fas fa-box text-yellow-600 text-xl"></i>
            </div>
          </div>
          <div class="flex items-center text-xs text-gray-600">
            上架中
          </div>
        </div>
        
      </div>
    </div>
    
    <!-- ==================== 模块2：现状趋势 ==================== -->
    <div class="module-section">
      <h2 class="module-title">现状趋势</h2>
      
      <!-- 第一行：订单量&成交金额趋势 + 订单状态分布 -->
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
        
        <!-- 图表1：订单量 & 成交金额（双轴）- 占3列 -->
        <div class="lg:col-span-3 chart-card rounded-xl p-6 fade-in">
          <div class="flex items-center justify-between mb-5">
            <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
              <i class="fas fa-chart-line text-primary"></i>
              订单量 & 成交金额趋势
            </h3>
            <div class="flex gap-2">
              <button class="px-4 py-1.5 text-xs rounded-lg bg-blue-600 text-white font-semibold" onclick="switchPeriod('chart1', 'daily')">日</button>
              <button class="px-4 py-1.5 text-xs rounded-lg bg-gray-200 text-gray-700 font-medium" onclick="switchPeriod('chart1', 'weekly')">周</button>
              <button class="px-4 py-1.5 text-xs rounded-lg bg-gray-200 text-gray-700 font-medium" onclick="switchPeriod('chart1', 'monthly')">月</button>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="chart1"></canvas>
          </div>
        </div>
        
        <!-- 图表2：订单状态分布 - 占2列 -->
        <div class="lg:col-span-2 chart-card rounded-xl p-6 fade-in">
          <div class="flex items-center justify-between mb-5">
            <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
              <i class="fas fa-chart-pie text-primary"></i>
              订单状态分布
            </h3>
          </div>
          <div class="chart-container">
            <canvas id="chart2"></canvas>
          </div>
        </div>
        
      </div>
      
    </div>
    
    <!-- ==================== 模块3：站点概况 ==================== -->
    <div class="module-section">
      <h2 class="module-title">站点概况</h2>
      
      <!-- 站点卡片和图表布局 -->
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
        
        <!-- 左侧：站点数量卡片（上下排列，占1列） -->
        <div class="lg:col-span-1 flex flex-col gap-4 fade-in">
          
          <!-- 总站 -->
          <div class="stat-card bg-white rounded-xl shadow-md p-5 cursor-pointer" onclick="navigateTo('stations')">
            <div class="flex items-start justify-between mb-3">
              <div>
                <p class="text-sm text-gray-500 mb-2 font-medium">总站</p>
                <p class="text-3xl font-bold text-gray-900">1</p>
              </div>
              <div class="icon-container w-12 h-12 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-xl flex items-center justify-center shadow-lg">
                <i class="fas fa-building text-indigo-600 text-xl"></i>
              </div>
            </div>
            <div class="flex items-center text-xs text-gray-600">
              平台主站点
            </div>
          </div>
          
          <!-- 区域分站 -->
          <div class="stat-card bg-white rounded-xl shadow-md p-5 cursor-pointer" onclick="navigateTo('stations')">
            <div class="flex items-start justify-between mb-3">
              <div>
                <p class="text-sm text-gray-500 mb-2 font-medium">区域分站</p>
                <p class="text-3xl font-bold text-gray-900" id="stationRegional">5</p>
              </div>
              <div class="icon-container w-12 h-12 bg-gradient-to-br from-cyan-100 to-cyan-200 rounded-xl flex items-center justify-center shadow-lg">
                <i class="fas fa-map-marked-alt text-cyan-600 text-xl"></i>
              </div>
            </div>
            <div class="flex items-center text-xs text-gray-600">
              已开通区域分站
            </div>
          </div>
          
          <!-- 企业分站 -->
          <div class="stat-card bg-white rounded-xl shadow-md p-5 cursor-pointer" onclick="navigateTo('stations')">
            <div class="flex items-start justify-between mb-3">
              <div>
                <p class="text-sm text-gray-500 mb-2 font-medium">企业分站</p>
                <p class="text-3xl font-bold text-gray-900" id="stationEnterprise">12</p>
              </div>
              <div class="icon-container w-12 h-12 bg-gradient-to-br from-pink-100 to-pink-200 rounded-xl flex items-center justify-center shadow-lg">
                <i class="fas fa-briefcase text-pink-600 text-xl"></i>
              </div>
            </div>
            <div class="flex items-center text-xs text-gray-600">
              已开通企业专区
            </div>
          </div>
          
        </div>
        
        <!-- 右侧：两个图表（占4列） -->
        <div class="lg:col-span-4 grid grid-cols-1 lg:grid-cols-2 gap-6">
          
          <!-- 图表4：分站订单占比（可切换销售金额/订单量） -->
          <div class="chart-card rounded-xl p-6 fade-in">
            <div class="flex items-center justify-between mb-5">
              <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
                <i class="fas fa-chart-pie text-primary"></i>
                分站订单占比
              </h3>
              <div class="flex gap-2">
                <button id="btnGmvView" class="px-4 py-1.5 text-xs rounded-lg bg-blue-600 text-white font-semibold" onclick="switchOrderShare('gmv')">
                  <i class="fas fa-yen-sign"></i> 金额
                </button>
                <button id="btnCountView" class="px-4 py-1.5 text-xs rounded-lg bg-gray-200 text-gray-700 font-medium" onclick="switchOrderShare('count')">
                  <i class="fas fa-sort-numeric-up"></i> 数量
                </button>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="chart4"></canvas>
            </div>
          </div>
          
          <!-- 图表5：各站用户占比（可切换饼图/柱状图） -->
          <div class="chart-card rounded-xl p-6 fade-in">
            <div class="flex items-center justify-between mb-5">
              <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
                <i class="fas fa-users text-primary"></i>
                各站用户占比
              </h3>
              <div class="flex gap-2">
                <button id="btnPieView" class="px-4 py-1.5 text-xs rounded-lg bg-blue-600 text-white font-semibold" onclick="switchUserView('pie')">
                  <i class="fas fa-chart-pie"></i> 总体占比
                </button>
                <button id="btnBarView" class="px-4 py-1.5 text-xs rounded-lg bg-gray-200 text-gray-700 font-medium" onclick="switchUserView('bar')">
                  <i class="fas fa-chart-bar"></i> 用户数量
                </button>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="chart5"></canvas>
            </div>
          </div>
          
        </div>
        
      </div>
      
    </div>
    
    <!-- ==================== 模块4：运营待办 ==================== -->
    <div class="module-section">
      <h2 class="module-title">运营待办</h2>
      <div class="bg-white rounded-xl shadow-md p-6 fade-in border border-gray-100">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          
          <!-- 待办1：待审核企业认证 -->
          <div class="todo-card p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl cursor-pointer border border-orange-200" onclick="navigateTo('enterprise-verify')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-gradient-to-br from-orange-200 to-orange-300 rounded-lg flex items-center justify-center shadow-md flex-shrink-0">
                <i class="fas fa-building text-orange-700"></i>
              </div>
              <div class="flex-1 min-w-0">
                <p class="text-xs text-gray-600 font-medium mb-1 truncate">待审核企业认证</p>
                <p class="text-xl font-bold text-gray-900" id="todoEnterprise">3</p>
              </div>
            </div>
          </div>
          
          <!-- 待办2：待审核供应商认证 -->
          <div class="todo-card p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-xl cursor-pointer border border-red-200" onclick="navigateTo('supplier-verify')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-gradient-to-br from-red-200 to-red-300 rounded-lg flex items-center justify-center shadow-md flex-shrink-0">
                <i class="fas fa-store text-red-700"></i>
              </div>
              <div class="flex-1 min-w-0">
                <p class="text-xs text-gray-600 font-medium mb-1 truncate">待审核供应商认证</p>
                <p class="text-xl font-bold text-gray-900" id="todoSupplier">8</p>
              </div>
            </div>
          </div>
          
          <!-- 待办3：待审核采购单 -->
          <div class="todo-card p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl cursor-pointer border border-blue-200" onclick="navigateTo('po-approval')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-gradient-to-br from-blue-200 to-blue-300 rounded-lg flex items-center justify-center shadow-md flex-shrink-0">
                <i class="fas fa-file-invoice text-blue-700"></i>
              </div>
              <div class="flex-1 min-w-0">
                <p class="text-xs text-gray-600 font-medium mb-1 truncate">待审核采购单</p>
                <p class="text-xl font-bold text-gray-900" id="todoPO">12</p>
              </div>
            </div>
          </div>
          
          <!-- 待办4：异常订单 -->
          <div class="todo-card p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl cursor-pointer border border-yellow-200" onclick="navigateTo('abnormal-orders')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-gradient-to-br from-yellow-200 to-yellow-300 rounded-lg flex items-center justify-center shadow-md flex-shrink-0">
                <i class="fas fa-exclamation-triangle text-yellow-700"></i>
              </div>
              <div class="flex-1 min-w-0">
                <p class="text-xs text-gray-600 font-medium mb-1 truncate">异常订单</p>
                <p class="text-xl font-bold text-gray-900" id="todoAbnormal">5</p>
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </div>
    
    <!-- 页脚版权信息 -->
    <div class="mt-10 mb-6 text-center">
      <div class="inline-block px-6 py-3 bg-white rounded-lg shadow-sm border border-gray-200">
        <p class="text-sm text-gray-500">
          <i class="fas fa-copyright text-gray-400 mr-1"></i>
          2026 阳光优采采购平台 | 管理后台原型演示
        </p>
      </div>
    </div>
    
    </div>
  </div>
  
  <!-- ==================== JavaScript：数据加载与图表渲染 ==================== -->
  <script src="../../assets/mock.js"></script>
  <script>
    // ========== 全局变量 ==========
    let charts = {}; // 存储所有图表实例
    let currentPeriod = 'daily'; // 当前时间粒度
    let currentUserView = 'pie'; // 当前用户占比视图
    let currentOrderShareView = 'gmv'; // 当前分站订单占比视图（gmv/count）
    
    // ========== 页面加载时初始化 ==========
    document.addEventListener('DOMContentLoaded', function() {
      loadDashboardData();
      initCharts();
    });
    
    // ========== 加载数据到卡片 ==========
    function loadDashboardData() {
      const data = dashboardData;
      
      // 订单总量
      document.getElementById('orderTotal').textContent = formatNumber(data.orderTotal.value);
      document.getElementById('orderTrend').innerHTML = `<i class="fas fa-arrow-${data.orderTotal.trendUp ? 'up' : 'down'}"></i> ${data.orderTotal.trend}`;
      
      // 成交金额
      document.getElementById('gmvMain').textContent = formatCurrency(data.gmv.main);
      document.getElementById('gmvTrend').innerHTML = `<i class="fas fa-arrow-${data.gmv.trendUp ? 'up' : 'down'}"></i> ${data.gmv.trend}`;
      
      // 活跃用户
      document.getElementById('activeUsers').textContent = formatNumber(data.activeUsers.value);
      document.getElementById('userTrend').innerHTML = `<i class="fas fa-arrow-${data.activeUsers.trendUp ? 'up' : 'down'}"></i> ${data.activeUsers.trend}`;
      
      // 供应商
      document.getElementById('supplierCount').textContent = data.suppliers.certified;
      document.getElementById('supplierPending').textContent = data.suppliers.pending;
      
      // 商品
      document.getElementById('productOnline').textContent = formatNumber(data.products.online);
      
      // 分站
      document.getElementById('stationRegional').textContent = data.stations.regional;
      document.getElementById('stationEnterprise').textContent = data.stations.enterprise;
      
      // 运营待办
      document.getElementById('todoEnterprise').textContent = data.todos.enterpriseVerify;
      document.getElementById('todoSupplier').textContent = data.todos.supplierVerify;
      document.getElementById('todoPO').textContent = data.todos.poApproval;
      document.getElementById('todoAbnormal').textContent = data.todos.abnormalOrders;
    }
    
    // ========== 初始化所有图表 ==========
    function initCharts() {
      createChart1(); // 订单量 & 成交金额
      createChart2(); // 订单状态分布
      createChart4(); // 分站订单占比（默认：销售金额）
      createChart5(); // 各站用户占比（默认：饼图）
    }
    
    // ========== 图表1：订单量 & 成交金额（双轴） ==========
    function createChart1() {
      const ctx = document.getElementById('chart1').getContext('2d');
      const data = dashboardData.trends.daily;
      
      charts.chart1 = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: data.map(d => d.date),
          datasets: [
            {
              type: 'bar',
              label: '订单量',
              data: data.map(d => d.orders),
              backgroundColor: 'rgba(59, 130, 246, 0.8)',
              yAxisID: 'y',
              order: 2
            },
            {
              type: 'line',
              label: '成交金额（万元）',
              data: data.map(d => d.gmv / 10000),
              borderColor: '#E2231A',
              borderWidth: 3,
              backgroundColor: 'rgba(226, 35, 26, 0.1)',
              tension: 0.4,
              yAxisID: 'y1',
              order: 1,
              pointRadius: 5,
              pointHoverRadius: 7,
              pointBackgroundColor: '#ffffff',
              pointBorderColor: '#E2231A',
              pointBorderWidth: 2,
              pointHoverBackgroundColor: '#E2231A',
              pointHoverBorderColor: '#ffffff',
              pointHoverBorderWidth: 3,
              fill: true
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          interaction: { mode: 'index', intersect: false },
          plugins: {
            legend: { display: true, position: 'top' }
          },
          scales: {
            y: {
              type: 'linear',
              display: true,
              position: 'left',
              title: { display: true, text: '订单量' }
            },
            y1: {
              type: 'linear',
              display: true,
              position: 'right',
              title: { display: true, text: '成交金额（万元）' },
              grid: { drawOnChartArea: false }
            }
          }
        }
      });
    }
    
    // ========== 图表2：订单状态分布 ==========
    function createChart2() {
      const ctx = document.getElementById('chart2').getContext('2d');
      const data = dashboardData.orderFunnel;
      
      charts.chart2 = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: data.map(d => d.status),
          datasets: [{
            data: data.map(d => d.count),
            backgroundColor: [
              '#F59E0B', '#3B82F6', '#10B981', '#22C55E', '#94A3B8', '#EF4444'
            ]
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: true, position: 'right' },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const label = context.label || '';
                  const value = context.parsed;
                  const percent = data[context.dataIndex].percent;
                  return `${label}: ${value} (${percent}%)`;
                }
              }
            }
          }
        }
      });
    }
    
    // ========== 图表4：分站订单占比（默认：销售金额） ==========
    function createChart4() {
      const ctx = document.getElementById('chart4').getContext('2d');
      const data = dashboardData.stationOrderShare.gmv;
      
      charts.chart4 = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: data.map(d => d.name),
          datasets: [{
            data: data.map(d => d.value),
            backgroundColor: data.map(d => d.color)
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: true, position: 'right' },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const item = data[context.dataIndex];
                  return `${item.name}: ${formatCurrency(item.value)} (${item.percent}%)`;
                }
              }
            }
          }
        }
      });
    }
    
    // ========== 图表5：各站用户占比（默认：饼图） ==========
    function createChart5() {
      const ctx = document.getElementById('chart5').getContext('2d');
      const data = dashboardData.stationUsers.summary;
      
      charts.chart5 = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: data.map(d => d.name),
          datasets: [{
            data: data.map(d => d.value),
            backgroundColor: data.map(d => d.color)
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: true, position: 'right' },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const item = data[context.dataIndex];
                  return `${item.name}: ${item.value} 人 (${item.percent}%)`;
                }
              }
            }
          }
        }
      });
    }
    
    // ========== 切换时间粒度 ==========
    function switchPeriod(chartId, period) {
      currentPeriod = period;
      
      // 更新按钮样式
      const buttons = event.target.parentElement.querySelectorAll('button');
      buttons.forEach(btn => {
        btn.classList.remove('bg-blue-600', 'text-white', 'font-semibold');
        btn.classList.add('bg-gray-200', 'text-gray-700', 'font-medium');
      });
      event.target.classList.remove('bg-gray-200', 'text-gray-700', 'font-medium');
      event.target.classList.add('bg-blue-600', 'text-white', 'font-semibold');
      
      // 更新对应图表数据
      const data = dashboardData.trends[period];
      
      if (chartId === 'chart1') {
        charts.chart1.data.labels = data.map(d => d.date);
        charts.chart1.data.datasets[0].data = data.map(d => d.orders);
        charts.chart1.data.datasets[1].data = data.map(d => d.gmv / 10000);
        charts.chart1.update();
      }
    }
    
    // ========== 切换分站订单占比视图（销售金额/订单量） ==========
    function switchOrderShare(view) {
      currentOrderShareView = view;
      
      // 更新按钮样式
      const btnGmv = document.getElementById('btnGmvView');
      const btnCount = document.getElementById('btnCountView');
      
      if (view === 'gmv') {
        btnGmv.classList.add('bg-blue-600', 'text-white', 'font-semibold');
        btnGmv.classList.remove('bg-gray-200', 'text-gray-700', 'font-medium');
        btnCount.classList.remove('bg-blue-600', 'text-white', 'font-semibold');
        btnCount.classList.add('bg-gray-200', 'text-gray-700', 'font-medium');
        
        // 切换到销售金额
        const data = dashboardData.stationOrderShare.gmv;
        charts.chart4.destroy();
        const ctx = document.getElementById('chart4').getContext('2d');
        charts.chart4 = new Chart(ctx, {
          type: 'pie',
          data: {
            labels: data.map(d => d.name),
            datasets: [{
              data: data.map(d => d.value),
              backgroundColor: data.map(d => d.color)
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: true, position: 'right' },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    const item = data[context.dataIndex];
                    return `${item.name}: ${formatCurrency(item.value)} (${item.percent}%)`;
                  }
                }
              }
            }
          }
        });
      } else {
        btnCount.classList.add('bg-blue-600', 'text-white', 'font-semibold');
        btnCount.classList.remove('bg-gray-200', 'text-gray-700', 'font-medium');
        btnGmv.classList.remove('bg-blue-600', 'text-white', 'font-semibold');
        btnGmv.classList.add('bg-gray-200', 'text-gray-700', 'font-medium');
        
        // 切换到订单量
        const data = dashboardData.stationOrderShare.count;
        charts.chart4.destroy();
        const ctx = document.getElementById('chart4').getContext('2d');
        charts.chart4 = new Chart(ctx, {
          type: 'pie',
          data: {
            labels: data.map(d => d.name),
            datasets: [{
              data: data.map(d => d.value),
              backgroundColor: data.map(d => d.color)
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: true, position: 'right' },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    const item = data[context.dataIndex];
                    return `${item.name}: ${item.value} 单 (${item.percent}%)`;
                  }
                }
              }
            }
          }
        });
      }
    }
    
    // ========== 切换用户占比视图（饼图/柱状图） ==========
    function switchUserView(view) {
      currentUserView = view;
      
      // 更新按钮样式
      const btnPie = document.getElementById('btnPieView');
      const btnBar = document.getElementById('btnBarView');
      
      if (view === 'pie') {
        btnPie.classList.add('bg-blue-600', 'text-white', 'font-semibold');
        btnPie.classList.remove('bg-gray-200', 'text-gray-700', 'font-medium');
        btnBar.classList.remove('bg-blue-600', 'text-white', 'font-semibold');
        btnBar.classList.add('bg-gray-200', 'text-gray-700', 'font-medium');
        
        // 切换到饼图
        const data = dashboardData.stationUsers.summary;
        charts.chart5.destroy();
        const ctx = document.getElementById('chart5').getContext('2d');
        charts.chart5 = new Chart(ctx, {
          type: 'pie',
          data: {
            labels: data.map(d => d.name),
            datasets: [{
              data: data.map(d => d.value),
              backgroundColor: data.map(d => d.color)
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: true, position: 'right' },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    const item = data[context.dataIndex];
                    return `${item.name}: ${item.value} 人 (${item.percent}%)`;
                  }
                }
              }
            }
          }
        });
      } else {
        btnBar.classList.add('bg-blue-600', 'text-white', 'font-semibold');
        btnBar.classList.remove('bg-gray-200', 'text-gray-700', 'font-medium');
        btnPie.classList.remove('bg-blue-600', 'text-white', 'font-semibold');
        btnPie.classList.add('bg-gray-200', 'text-gray-700', 'font-medium');
        
        // 切换到柱状图
        const data = dashboardData.stationUsers.detail;
        charts.chart5.destroy();
        const ctx = document.getElementById('chart5').getContext('2d');
        charts.chart5 = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: data.map(d => d.name),
            datasets: [{
              label: '用户数',
              data: data.map(d => d.users),
              backgroundColor: data.map(d => d.color)
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: {
              legend: { display: false }
            },
            scales: {
              x: {
                beginAtZero: true,
                title: { display: true, text: '用户数' }
              }
            }
          }
        });
      }
    }
    
    // ========== 刷新数据 ==========
    function refreshData() {
      alert('刷新数据功能（演示）：真实环境中会重新请求API获取最新数据');
      location.reload();
    }
    
    // ========== 导出数据 ==========
    function exportData() {
      alert('导出数据功能（演示）：真实环境中会生成CSV/Excel文件下载\n\n当前筛选条件：\n- 分站维度：全平台');
    }
    
    // ========== 页面跳转（模拟） ==========
    function navigateTo(page) {
      console.log('Navigate to:', page);
      alert(`跳转到：${page}（演示中，真实环境会跳转到对应页面）`);
    }
    
    // ========== 切换侧边栏收起/展开 ==========
    function toggleAdminSidebar() {
      const sidebar = document.getElementById('adminSidebar');
      const icon = document.getElementById('sidebarToggleIcon');
      sidebar.classList.toggle('collapsed');
      
      if (sidebar.classList.contains('collapsed')) {
        icon.classList.remove('fa-chevron-left');
        icon.classList.add('fa-chevron-right');
      } else {
        icon.classList.remove('fa-chevron-right');
        icon.classList.add('fa-chevron-left');
      }
      
      // 保存状态到 localStorage
      localStorage.setItem('adminSidebarCollapsed', sidebar.classList.contains('collapsed'));
    }
    
    // ========== 处理菜单点击 ==========
    function handleMenuClick(element, page) {
      event.preventDefault();
      
      // 更新活动状态
      document.querySelectorAll('.admin-menu-item').forEach(item => {
        item.classList.remove('active');
      });
      element.classList.add('active');
      
      // 已实现的页面直接跳转
      if (page === 'admin_dashboard.html' || page === 'admin_reco_manage.html') {
        window.location.href = page;
      } else {
        // 未实现的页面显示提示
        alert(`页面 "${page}" 尚未开发，敬请期待！`);
      }
    }
    
    // ========== 初始化侧边栏状态 ==========
    document.addEventListener('DOMContentLoaded', function() {
      const savedState = localStorage.getItem('adminSidebarCollapsed');
      if (savedState === 'true') {
        const sidebar = document.getElementById('adminSidebar');
        const icon = document.getElementById('sidebarToggleIcon');
        sidebar.classList.add('collapsed');
        icon.classList.remove('fa-chevron-left');
        icon.classList.add('fa-chevron-right');
      }
    });
  </script>
  
</body>
</html>
